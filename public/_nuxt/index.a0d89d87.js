import C from"./background.a8a215dc.js";import{j as E,r as g,t as j,k as S,l as x,m as T,u as G,p as A,q as M,s as $,v as z,x as H,y as N,z as V,h as F,o as R,a as U,i as h,e as d,A as P,w as _,F as q,B as k}from"./entry.d3828d14.js";import{B as I}from"./Button.0bd7e268.js";import{_ as D,a as w}from"./GameEnrollmentsTable.vue.10131d2c.js";import"./empty-image.6650d1e0.js";const K=()=>null;function b(...s){const c=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(c);let[a,u,n={}]=s;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof u!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");n.server=n.server??!0,n.default=n.default??K,n.lazy=n.lazy??!1,n.immediate=n.immediate??!0;const t=E(),p=()=>t.isHydrating?t.payload.data[a]:t.static.data[a],o=()=>p()!==void 0;t._asyncData[a]||(t._asyncData[a]={data:g(p()??n.default()),pending:g(!o()),error:j(t.payload._errors,a)});const e={...t._asyncData[a]};e.refresh=e.execute=(i={})=>{if(t._asyncDataPromises[a]){if(i.dedupe===!1)return t._asyncDataPromises[a];t._asyncDataPromises[a].cancelled=!0}if((i._initial||t.isHydrating&&i._initial!==!1)&&o())return p();e.pending.value=!0;const m=new Promise((r,f)=>{try{r(u(t))}catch(O){f(O)}}).then(r=>{if(m.cancelled)return t._asyncDataPromises[a];let f=r;n.transform&&(f=n.transform(r)),n.pick&&(f=L(f,n.pick)),e.data.value=f,e.error.value=null}).catch(r=>{if(m.cancelled)return t._asyncDataPromises[a];e.error.value=r,e.data.value=G(n.default())}).finally(()=>{m.cancelled||(e.pending.value=!1,t.payload.data[a]=e.data.value,e.error.value&&(t.payload._errors[a]=A(e.error.value)),delete t._asyncDataPromises[a])});return t._asyncDataPromises[a]=m,t._asyncDataPromises[a]};const l=()=>e.refresh({_initial:!0}),y=n.server!==!1&&t.payload.serverRendered;{const i=M();if(i&&!i._nuxtOnBeforeMountCbs){i._nuxtOnBeforeMountCbs=[];const r=i._nuxtOnBeforeMountCbs;i&&(S(()=>{r.forEach(f=>{f()}),r.splice(0,r.length)}),x(()=>r.splice(0,r.length)))}y&&t.isHydrating&&o()?e.pending.value=!1:i&&(t.payload.serverRendered&&t.isHydrating||n.lazy)&&n.immediate?i._nuxtOnBeforeMountCbs.push(l):n.immediate&&l(),n.watch&&T(n.watch,()=>e.refresh());const m=t.hook("app:data:refresh",r=>{if(!r||r.includes(a))return e.refresh()});i&&x(m)}const v=Promise.resolve(t._asyncDataPromises[a]).then(()=>e);return Object.assign(v,e),v}function L(s,c){const a={};for(const u of c)a[u]=s[u];return a}const J=()=>{const{setToken:s}=$(),c=z("jwt",{maxAge:5*60});return H(()=>{c.value&&s(c.value)}),!!c.value},Q=()=>{const s=N();return V()!=="v4"&&console.warn("useStrapi4 is only available for v4"),{find:(o,e)=>s(`/${o}`,{method:"GET",params:e}),findOne:(o,e,l)=>{typeof e=="object"&&(l=e,e=void 0);const y=[o,e].filter(Boolean).join("/");return s(y,{method:"GET",params:l})},create:(o,e)=>s(`/${o}`,{method:"POST",body:{data:e}}),update:(o,e,l)=>{typeof e=="object"&&(l=e,e=void 0);const y=[o,e].filter(Boolean).join("/");return s(y,{method:"PUT",body:{data:l}})},delete:(o,e)=>{const l=[o,e].filter(Boolean).join("/");return s(l,{method:"DELETE"})}}},W=()=>Q(),B="games",X=()=>{const{find:s,findOne:c,update:a,create:u}=W();return{findGames:async()=>await b("games",()=>s(B)),findOneGame:async p=>await b(`games/${p}`,()=>s(B))}},Y=d("p",{class:"body1 text-center mt-4"}," Забронируй место на нашу настольную игру прямо сейчас! ",-1),Z={class:"flex flex-col items-center justify-center mt-[145px]"},ee=d("h2",null,"Попробуй новый формат общения",-1),te=d("div",{class:"flex items-center space-x-[37px]"},[d("span",{class:"whitespace-pre-line"},P(`Выбери удобное для тебя 
 время в нашем расписании`)),d("h2",null,[k("окунувшись в "),d("b",null,"мир игр")])],-1),ae=`Собирай друзей 
 и побеждайте вместе`,ce=F({__name:"index",setup(s){return J(),X(),(c,a)=>{const u=C;return R(),U(q,null,[h(u,{class:"bg-svg"}),d("h1",{class:"text-center whitespace-pre-line mt-[169px]"},P(ae)),Y,h(D,{class:"mt-[203px]",heading:"Играют сейчас"},{default:_(()=>[h(w)]),_:1}),h(D,{heading:"Ближайшие игры"},{default:_(()=>[h(w)]),_:1}),d("div",Z,[ee,te,h(I,{class:"mt-10 w-[440px]",variant:"fill",big:""},{default:_(()=>[k("Полное расписание")]),_:1})])],64)}}});export{ce as default};
